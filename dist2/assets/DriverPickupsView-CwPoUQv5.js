import{b as k,r as n,j as s,f as r}from"./index-BjK2osQV.js";import{D as m}from"./DriverPickupProcessor-1KKXpE5k.js";import{C as d}from"./Card-DROeE3UG.js";import"./Button-JCYNVMjR.js";import"./LocationPicker-BMHhAdnZ.js";import"./toast-DTXa3ATd.js";import"./PlaceAutocomplete-IKHODmB-.js";function j(){const{user:o}=k(),[i,a]=n.useState([]),[p,u]=n.useState(!0);return n.useEffect(()=>{if(!o)return;(async()=>{try{const e=(await r.getParcelBookings()).filter(l=>l.status==="PENDING"&&!l.driverId);a(e)}catch(t){console.error("Failed to load pickups:",t)}finally{u(!1)}})()},[o]),p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Loading pickup jobs..."})}):i.length===0?s.jsx("div",{className:"space-y-6",children:s.jsx(d,{title:"Available Pickups",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“¦"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Available Pickups"}),s.jsx("p",{className:"text-gray-600",children:"There are no pending pickup jobs at the moment."})]})})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(d,{title:"Available Pickups",children:[s.jsx(m,{job:i[0],user:o,services:[],onSave:async()=>{const t=(await r.getParcelBookings()).filter(e=>e.status==="PENDING"&&!e.driverId);a(t)},onFinish:async()=>{const t=(await r.getParcelBookings()).filter(e=>e.status==="PENDING"&&!e.driverId);a(t)},onCancel:async()=>{const t=(await r.getParcelBookings()).filter(e=>e.status==="PENDING"&&!e.driverId);a(t)}}),i.length>1&&s.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center",children:[i.length-1," more pickup",i.length>2?"s":""," available"]})]})})}export{j as default};
