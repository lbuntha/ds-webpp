import{u as xe,r as i,f,A as pe,i as he,j as e}from"./index-BjK2osQV.js";import{C as ge}from"./Card-DROeE3UG.js";import{B as te}from"./Button-JCYNVMjR.js";import{I as fe}from"./ImageUpload-CVnIZI_m.js";import{t as w}from"./toast-DTXa3ATd.js";const Ee=({user:r})=>{const{t:m}=xe(),se=t=>Math.round((t+Number.EPSILON)*100)/100,[V,G]=i.useState([]),[R,re]=i.useState([]),[ae,ne]=i.useState([]),[b,oe]=i.useState({}),[M,ie]=i.useState([]),[z,le]=i.useState([]),[c,X]=i.useState("USD"),[p,$]=i.useState(null),[de,J]=i.useState(!1),[be,ye]=i.useState(null),[A,Q]=i.useState(1),H=10,[h,L]=i.useState(0),[y,W]=i.useState(0),[D,O]=i.useState(0),[S,_]=i.useState(0),[T,Z]=i.useState(""),[U,Y]=i.useState("");i.useEffect(()=>{(async()=>{try{const[a,n,d]=await Promise.all([f.getUserBookings(r),f.getSettings(),f.logisticsService.getDriverCommissionRules()]);oe(n),ie(d),re(a),(r.role==="driver"||r.role==="warehouse")&&f.getEmployees().then(le).catch(console.warn)}catch(a){console.error("Failed to load wallet data",a)}})()},[r]),i.useEffect(()=>{p&&f.getAccounts().then(t=>{const a=t.filter(n=>n.type===pe.ASSET&&(n.subType===he.CURRENT_ASSET||n.name.toLowerCase().includes("bank")||n.name.toLowerCase().includes("cash"))&&!n.isHeader);ne(a)}).catch(console.warn)},[p]),i.useEffect(()=>{if(!r.uid)return;const t=f.subscribeToUser(r.uid,n=>{}),a=f.subscribeToWalletTransactions(r.uid,n=>{G(n)});return()=>{t(),a()}},[r.uid]);const F=i.useMemo(()=>{const t=[];V.forEach(s=>{let l=!1;(s.type==="DEPOSIT"||s.type==="EARNING"||s.type==="REFUND"||s.type==="TAXI_FEE")&&(l=!0),s.type==="SETTLEMENT"&&(l=r.role==="driver"||r.role==="warehouse"),s.type==="WITHDRAWAL"&&(l=!1),!((r.role==="driver"||r.role==="warehouse")&&s.type==="SETTLEMENT")&&(s.type==="TAXI_FEE"&&s.taxiFeeSettled||t.push({id:s.id,date:s.date,timestamp:new Date(s.date).getTime()||Date.now(),description:s.description||s.type,type:s.type,amount:s.amount,currency:s.currency,status:s.status,reference:(s.id||"").slice(-6),isCredit:l}))});const a=M.find(s=>s.isDefault),n=z.find(s=>s.linkedUserId===r.uid),d=n==null?void 0:n.zone;return M.find(s=>s.zoneName===d),R.forEach(s=>{var I;const l=r.linkedCustomerId&&s.senderId===r.linkedCustomerId||s.senderName===r.name,j=s.items||[],u=s.driverId===r.uid||((I=s.involvedDriverIds)==null?void 0:I.includes(r.uid))||j.some(o=>o.driverId===r.uid||o.collectorId===r.uid||o.delivererId===r.uid);if(l){if(j.forEach(o=>{o.status==="DELIVERED"&&(o.codCurrency,t.push({id:`cod-${o.id}`,date:s.bookingDate,timestamp:s.createdAt||new Date(s.bookingDate).getTime(),description:`COD Collected: ${o.receiverName}`,type:"COD",amount:o.productPrice||0,currency:o.codCurrency||"USD",status:"COLLECTED",reference:o.trackingCode||"N/A",isCredit:!0}))}),s.status!=="CANCELLED"&&(j.filter(v=>v.status==="DELIVERED").length>0||s.status==="COMPLETED"||s.status==="CONFIRMED")){let v=0,E=0;j.forEach(N=>{if(N.status==="DELIVERED"){const C=N.codCurrency==="KHR";if(N.deliveryFeeUSD!==void 0||N.deliveryFeeKHR!==void 0)C?v+=N.deliveryFeeKHR||0:E+=N.deliveryFeeUSD||0;else{const g=Number(N.deliveryFee)||0;C?v+=g:E+=g}}}),v>0&&t.push({id:`fee-${s.id}-khr`,date:s.bookingDate,timestamp:s.createdAt||new Date(s.bookingDate).getTime(),description:`Service Fee (KHR): ${s.serviceTypeName}`,type:"FEE",amount:v,currency:"KHR",status:"APPLIED",reference:(s.id||"").slice(-6),isCredit:!1}),E>0&&t.push({id:`fee-${s.id}-usd`,date:s.bookingDate,timestamp:s.createdAt||new Date(s.bookingDate).getTime(),description:`Service Fee (USD): ${s.serviceTypeName}`,type:"FEE",amount:E,currency:"USD",status:"APPLIED",reference:(s.id||"").slice(-6),isCredit:!1})}j.forEach(o=>{o.isTaxiDelivery&&o.taxiFee&&o.taxiFee>0&&t.push({id:`taxi-${o.id}`,date:s.bookingDate,timestamp:s.createdAt||new Date(s.bookingDate).getTime(),description:`ðŸš• Taxi Fee: ${o.receiverName}`,type:"FEE",amount:o.taxiFee,currency:o.taxiFeeCurrency||"USD",status:"APPLIED",reference:o.trackingCode||"N/A",isCredit:!1})})}u&&j.forEach(o=>{})}),t.sort((s,l)=>new Date(l.date).getTime()-new Date(s.date).getTime())},[V,R,r,M,z]),q=i.useMemo(()=>{let t=0,a=0;const n=r.role==="driver"||r.role==="warehouse";return F.forEach(d=>{if(!(d.status==="APPROVED"||d.status==="APPLIED"||d.status==="COLLECTED"||d.status==="EARNED"||d.status==="HELD")||n&&d.type==="SETTLEMENT")return;const l=d.amount;d.currency==="KHR"?d.isCredit?a+=l:a-=l:d.isCredit?t+=l:t-=l}),{usd:se(t),khr:Math.round(a)}},[F,r.role]),x=i.useMemo(()=>{if(p!=="WITHDRAWAL")return null;const t=c;let a=0,n=0,d=0,s=0;const l=[];F.forEach(u=>{if(!(u.status==="PENDING"||u.status==="REJECTED")&&u.currency===t)if(u.type==="COD"&&u.isCredit){a+=u.amount;const I=u.id.replace("cod-",""),o=R.find(v=>(v.items||[]).some(E=>E.id===I));o&&l.push({bookingId:o.id,itemId:I})}else u.type==="FEE"?n+=u.amount:u.type==="WITHDRAWAL"?d+=u.amount:u.type==="DEPOSIT"||u.type==="EARNING"?s+=u.amount:u.type==="SETTLEMENT"&&(d+=u.amount)});const j=a+s-n-d;return{codTotal:a,feeTotal:n,paidOut:d,deposits:s,net:j,relatedItems:l}},[F,p,c,R]);c==="USD"?q.usd:q.khr;const ce=c==="KHR"?b.defaultCustomerSettlementBankIdKHR||b.defaultCustomerSettlementBankId:b.defaultCustomerSettlementBankIdUSD||b.defaultCustomerSettlementBankId,K=ae.find(t=>t.id===ce);i.useEffect(()=>{p==="WITHDRAWAL"&&x?(L(parseFloat(x.net.toFixed(2))),W(0)):(L(0),W(0),O(0),_(0))},[p,x,c]);const ue=async()=>{const t=r.role==="driver"||r.role==="warehouse";let a=t?b.defaultDriverSettlementBankIdUSD:b.defaultCustomerSettlementBankIdUSD,n=t?b.defaultDriverSettlementBankIdKHR:b.defaultCustomerSettlementBankIdKHR,d=t?b.defaultDriverCashAccountIdUSD:null,s=t?b.defaultDriverCashAccountIdKHR:null;if(a||(a=b.defaultSettlementBankAccountId),n||(n=b.defaultSettlementBankAccountId),p==="DEPOSIT"){if(h>0&&!a)return w.error("System Error: No USD bank configured.");if(y>0&&!n)return w.error("System Error: No KHR bank configured.");if(D>0&&!d)return w.error("System Error: No USD Cash account configured. Please check Settings.");if(S>0&&!s)return w.error("System Error: No KHR Cash account configured. Please check Settings.")}if(p==="WITHDRAWAL"){const l=(x==null?void 0:x.net)||0;if(h>l)return w.error(`Withdrawal amount cannot exceed available balance (${c==="USD"?"$":""}${l.toLocaleString()}${c==="KHR"?"áŸ›":""})`)}J(!0);try{if(p==="DEPOSIT"){const j=Date.now();if(t&&(h>0||y>0||D>0||S>0)){const I=R.flatMap(g=>(g.items||[]).filter(k=>k.status==="DELIVERED"&&k.driverSettlementStatus!=="SETTLED"&&(k.delivererId===r.uid||!k.delivererId&&k.driverId===r.uid)).map(k=>({bookingId:g.id,itemId:k.id,codCurrency:k.codCurrency||"USD"}))),o=I.filter(g=>g.codCurrency==="USD").map(g=>({bookingId:g.bookingId,itemId:g.itemId})),v=I.filter(g=>g.codCurrency==="KHR").map(g=>({bookingId:g.bookingId,itemId:g.itemId})),E=h>0?"BANK":D>0?"CASH":null,N=y>0?"BANK":S>0?"CASH":null,C=[];h>0&&C.push(f.requestSettlement(r.uid,r.name||"Driver",h,"USD",a,U,T||"Settlement (Bank USD)",E==="BANK"?o:[])),y>0&&C.push(f.requestSettlement(r.uid,r.name||"Driver",y,"KHR",n,U,T||"Settlement (Bank KHR)",N==="BANK"?v:[])),D>0&&C.push(f.requestSettlement(r.uid,r.name||"Driver",D,"USD",d,"",T||"Settlement (Cash USD)",E==="CASH"?o:[])),S>0&&C.push(f.requestSettlement(r.uid,r.name||"Driver",S,"KHR",s,"",T||"Settlement (Cash KHR)",N==="CASH"?v:[])),C.length>0&&await Promise.all(C)}else h>0&&await f.requestWalletTopUp(r.uid,h,"USD",a,U,T||"Deposit (USD)"),y>0&&await f.requestWalletTopUp(r.uid,y,"KHR",n,U,T||"Deposit (KHR)");w.success("Payment submitted! Please wait for approval.")}else await f.requestWithdrawal(r.uid,r.name,h,c,(c==="USD"?a:n)||"system-payout",T||"Net Payout Request",x==null?void 0:x.relatedItems),w.success("Payout request submitted for approval.");const l=await f.getWalletTransactions(r.uid);G(l),$(null),L(0),W(0),O(0),_(0),Z(""),Y("")}catch(l){w.error("Error: "+l.message)}finally{J(!1)}},P=F.filter(t=>t.currency===c).sort((t,a)=>(a.timestamp||0)-(t.timestamp||0)),B=Math.ceil(P.length/H),ee=P.slice((A-1)*H,A*H),me=(t,a)=>{if(a){const n=new Date(a);return{date:n.toLocaleDateString("en-CA"),time:n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}}return{date:t,time:""}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[r.name,"'s ",m("my_wallet")]}),e.jsxs("div",{className:"flex space-x-2 bg-white p-1 rounded-lg border",children:[e.jsx("button",{onClick:()=>X("USD"),className:`px-3 py-1 rounded text-sm font-bold transition-all ${c==="USD"?"bg-green-600 text-white shadow":"text-gray-500 hover:bg-gray-50"}`,children:"$ USD"}),e.jsx("button",{onClick:()=>X("KHR"),className:`px-3 py-1 rounded text-sm font-bold transition-all ${c==="KHR"?"bg-blue-600 text-white shadow":"text-gray-500 hover:bg-gray-50"}`,children:"áŸ› KHR"})]})]}),e.jsxs("div",{className:`p-6 rounded-2xl text-white shadow-xl bg-gradient-to-br ${c==="USD"?"from-green-600 to-emerald-800":"from-blue-600 to-indigo-800"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium opacity-80",children:m("net_balance")}),e.jsxs("h1",{className:"text-4xl font-bold mt-2",children:[c==="USD"?"$":"",q[c==="USD"?"usd":"khr"].toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),c==="KHR"?" áŸ›":""]}),e.jsx("p",{className:"text-xs text-white/60 mt-1",children:r.role==="driver"?"Earnings - Cash Held + Settlements":"COD Collected - Service Fees"})]}),e.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})})]}),e.jsxs("div",{className:"mt-8 flex gap-3",children:[e.jsxs("button",{onClick:()=>$("DEPOSIT"),className:"flex-1 bg-white text-gray-900 py-2 rounded-xl font-bold text-sm hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),m("top_up")]}),r.role!=="customer"&&e.jsxs("button",{onClick:()=>$("WITHDRAWAL"),className:"flex-1 bg-black/20 text-white py-2 rounded-xl font-bold text-sm hover:bg-black/30 transition-colors flex items-center justify-center gap-2 backdrop-blur-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),m("request_payout")]})]})]}),e.jsxs(ge,{title:`${m("detailed_statement")} (${P.length})`,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date / Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:m("description")}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:m("transaction_type")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:m("amount")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No transactions found"})}):ee.map(t=>{const a=me(t.date,t.timestamp);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[e.jsx("div",{children:a.date}),a.time&&e.jsx("div",{className:"text-xs text-gray-400",children:a.time})]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{className:"font-medium",children:t.description}),t.status==="PENDING"&&e.jsx("div",{className:"text-xs text-orange-500 italic mt-0.5",children:m("pending_approval")}),t.status==="SETTLED"&&e.jsx("div",{className:"text-xs text-green-500 italic mt-0.5",children:"Settled"})]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${t.type==="FEE"?"bg-red-50 text-red-600 border border-red-100":t.type==="COD"&&t.isCredit?"bg-green-50 text-green-600 border border-green-100":t.type==="DEPOSIT"||t.type==="SETTLEMENT"?"bg-indigo-50 text-indigo-600 border border-indigo-100":t.type==="TAXI_FEE"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-gray-50 text-gray-600 border border-gray-200"}`,children:t.type})}),e.jsxs("td",{className:`px-6 py-4 text-right text-sm font-bold ${t.isCredit?"text-green-600":"text-red-600"}`,children:[t.isCredit?"+":"-"," ",t.currency==="USD"?"$":"",t.amount.toLocaleString(),t.currency==="KHR"?"áŸ›":""]})]},t.id)})})]})}),B>1&&e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 px-4 py-3 mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(A-1)*H+1," - ",Math.min(A*H,P.length)," of ",P.length]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Q(t=>Math.max(1,t-1)),disabled:A===1,className:"px-3 py-1 text-sm border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"â† Prev"}),e.jsxs("span",{className:"px-3 py-1 text-sm bg-gray-100 rounded-lg font-medium",children:[A," / ",B]}),e.jsx("button",{onClick:()=>Q(t=>Math.min(B,t+1)),disabled:A===B,className:"px-3 py-1 text-sm border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next â†’"})]})]})]}),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:m(p==="DEPOSIT"?"top_up":"request_payout")}),p==="WITHDRAWAL"&&x&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 mb-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between text-green-700",children:[e.jsx("span",{children:"Total COD Collected"}),e.jsxs("span",{className:"font-bold",children:["+ ",c==="USD"?"$":"",x.codTotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-indigo-600",children:[e.jsx("span",{children:"Deposits/Credits"}),e.jsxs("span",{className:"font-bold",children:["+ ",c==="USD"?"$":"",x.deposits.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-red-600 border-b border-gray-200 pb-2",children:[e.jsx("span",{children:"Less: Service Fees"}),e.jsxs("span",{className:"font-bold",children:["- ",c==="USD"?"$":"",x.feeTotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-gray-900 pt-1 text-base",children:[e.jsx("span",{children:"Net Available Payout"}),e.jsxs("span",{children:[c==="USD"?"$":"",x.net.toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:r.role==="driver"&&p==="DEPOSIT"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-3 text-center",children:"Method 1: Bank/Transfer"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1",children:"USD Amount ($)"}),e.jsx("input",{type:"number",className:"w-full border rounded-lg px-2 py-2 font-bold focus:ring-2 focus:ring-green-500 outline-none",value:h||"",onChange:t=>L(parseFloat(t.target.value)||0),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1",children:"KHR Amount (áŸ›)"}),e.jsx("input",{type:"number",className:"w-full border rounded-lg px-2 py-2 font-bold focus:ring-2 focus:ring-blue-500 outline-none",value:y||"",onChange:t=>W(parseFloat(t.target.value)||0),placeholder:"0"})]})]})]}),e.jsxs("div",{className:"p-4 bg-indigo-50/50 rounded-xl border border-indigo-100",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-500 uppercase mb-3 text-center",children:"Method 2: Cash Handover"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-indigo-400 mb-1",children:"USD Amount ($)"}),e.jsx("input",{type:"number",className:"w-full border border-indigo-200 rounded-lg px-2 py-2 font-bold focus:ring-2 focus:ring-indigo-500 outline-none",value:D||"",onChange:t=>O(parseFloat(t.target.value)||0),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-indigo-400 mb-1",children:"KHR Amount (áŸ›)"}),e.jsx("input",{type:"number",className:"w-full border border-indigo-200 rounded-lg px-2 py-2 font-bold focus:ring-2 focus:ring-indigo-500 outline-none",value:S||"",onChange:t=>_(parseFloat(t.target.value)||0),placeholder:"0"})]})]}),e.jsx("p",{className:"text-[10px] text-indigo-400 mt-2 text-center italic",children:"Use this for physical cash handovers at the office."})]})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[m("amount")," (",c,")"]}),e.jsx("input",{type:"number",className:"w-full border rounded-lg px-3 py-2 text-lg font-bold",value:h,onChange:t=>L(parseFloat(t.target.value)),placeholder:"0.00",max:p==="WITHDRAWAL"?(x==null?void 0:x.net)||0:void 0})]})}),p==="DEPOSIT"&&e.jsxs(e.Fragment,{children:[r.role==="driver"?e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 mb-2 uppercase font-bold text-center",children:"Settlement Instructions"}),e.jsxs("div",{className:"text-sm text-center space-y-2",children:[(h>0||y>0)&&e.jsxs("div",{className:"bg-white/50 p-2 rounded border border-blue-100",children:[e.jsx("p",{className:"font-bold text-xs text-blue-800 underline mb-1",children:"Bank Transfer:"}),h>0&&e.jsxs("p",{children:["Transfer ",e.jsxs("b",{children:["$",h]})," to Company USD Account."]}),y>0&&e.jsxs("p",{children:["Transfer ",e.jsxs("b",{children:[y.toLocaleString()," áŸ›"]})," to Company KHR Account."]})]}),(D>0||S>0)&&e.jsxs("div",{className:"bg-indigo-100/50 p-2 rounded border border-indigo-200",children:[e.jsx("p",{className:"font-bold text-xs text-indigo-800 underline mb-1",children:"Cash Handover:"}),D>0&&e.jsxs("p",{children:["Handover ",e.jsxs("b",{children:["$",D]})," cash to Accountant."]}),S>0&&e.jsxs("p",{children:["Handover ",e.jsxs("b",{children:[S.toLocaleString()," áŸ›"]})," cash to Accountant."]})]}),h===0&&y===0&&D===0&&S===0&&e.jsx("p",{className:"text-gray-500 italic",children:"Enter amount to see transfer details"})]})]}):K?e.jsxs("div",{className:"flex flex-col items-center bg-blue-50 p-4 rounded-xl border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 mb-2 uppercase font-bold",children:m("pay_to_company")}),K.qrCode&&e.jsx("img",{src:K.qrCode,alt:"QR",className:"w-32 h-32 object-contain mb-2"}),e.jsx("p",{className:"font-bold",children:K.name}),e.jsx("p",{className:"text-xs font-mono",children:K.code})]}):e.jsx("div",{className:"text-red-500 text-sm",children:"No company bank configured."}),e.jsx(fe,{value:U,onChange:Y,label:m("proof_of_transfer")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("description")}),e.jsx("input",{className:"w-full border rounded-lg px-3 py-2 text-sm",placeholder:p==="WITHDRAWAL"?"Payout Request":"Reference ID",value:T,onChange:t=>Z(t.target.value)})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(te,{variant:"outline",onClick:()=>$(null),children:m("cancel")}),e.jsx(te,{onClick:ue,isLoading:de,children:m("submit_request")})]})]})})]})};export{Ee as W};
