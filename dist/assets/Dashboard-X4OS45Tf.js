import{u as g,r as u,A as i,j as e}from"./index-BUL6LB55.js";import{A as y}from"./accountingService-Cqm7tQaN.js";import{C as h}from"./Card-k44aVk4n.js";const f=({transactions:l,accounts:m})=>{const{t:c}=g(),n=u.useMemo(()=>{const s=y.generateTrialBalance(m,l);let a=0,r=0,x=0,o=0;return s.forEach(t=>{t.isHeader||(t.type===i.REVENUE&&(a+=t.credit-t.debit),t.type===i.EXPENSE&&(r+=t.debit-t.credit),t.type===i.ASSET&&(x+=t.debit-t.credit),t.type===i.LIABILITY&&(o+=t.credit-t.debit))}),{revenue:a,expenses:r,netIncome:a-r,cash:x-o}},[l,m]),d=({label:s,value:a,color:r})=>e.jsxs(h,{className:"border-l-4",style:{borderLeftColor:r},children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:s}),e.jsx("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:c("dashboard")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(d,{label:c("revenue"),value:n.revenue,color:"#4f46e5"}),e.jsx(d,{label:c("expenses"),value:n.expenses,color:"#ef4444"}),e.jsx(d,{label:c("net_income"),value:n.netIncome,color:"#10b981"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx(h,{title:c("recent_activity"),children:e.jsx("div",{className:"flow-root",children:e.jsxs("ul",{className:"-my-5 divide-y divide-gray-200",children:[(l||[]).slice(-5).reverse().map(s=>e.jsx("li",{className:"py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsxs("span",{children:[c("reference"),": ",s.reference||"N/A"]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{children:new Date(s.date).toLocaleDateString()}),s.currency&&s.currency!=="USD"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"•"}),e.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full",children:[s.currency," @ ",s.exchangeRate]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["$",s.lines.reduce((a,r)=>a+r.debit,0).toLocaleString()]}),s.currency&&s.currency!=="USD"&&s.originalTotal&&e.jsxs("div",{className:"text-xs text-gray-500",children:["(",s.originalTotal.toLocaleString()," ",s.currency,")"]})]})]})},s.id)),(l||[]).length===0&&e.jsx("li",{className:"py-4 text-gray-500 text-sm",children:"No transactions yet."})]})})})})]})};export{f as Dashboard};
