import{r as i,j as e,b as x,h as u,f}from"./index-BUL6LB55.js";import{B as p}from"./Button-CqEssTF4.js";import{I as h}from"./Input-fEXGFBn-.js";import{C as g}from"./Card-k44aVk4n.js";import{A as j}from"./Avatar-Cwp5HxF7.js";const y=({user:s,onUpdateProfile:t})=>{const[a,d]=i.useState(s.name),[c,o]=i.useState(!1),[r,l]=i.useState(null),m=async n=>{n.preventDefault(),o(!0),l(null);try{await t(a),l({type:"success",text:"Profile updated successfully."})}catch{l({type:"error",text:"Failed to update profile."})}finally{o(!1)}};return e.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:e.jsxs(g,{children:[e.jsxs("div",{className:"flex flex-col items-center pb-6 border-b border-gray-100",children:[e.jsx(j,{name:a||s.name,size:"xl",className:"mb-4 shadow-md"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a||s.name}),e.jsx("span",{className:"px-3 py-1 mt-2 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full capitalize",children:(s.role||"").replace("-"," ")})]}),e.jsxs("form",{onSubmit:m,className:"mt-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsxs("div",{className:"flex items-center px-3 py-2 border border-gray-200 bg-gray-50 rounded-xl text-gray-500 sm:text-sm",children:[e.jsx("svg",{className:"h-5 w-5 mr-2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.email,e.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"(Read Only)"})]})]}),e.jsx(h,{label:"Display Name",value:a,onChange:n=>d(n.target.value),placeholder:"Your full name"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account ID"}),e.jsx("div",{className:"text-xs font-mono text-gray-400 break-all",children:s.uid})]})]}),r&&e.jsx("div",{className:`p-4 rounded-lg text-sm ${r.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:r.text}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{type:"submit",isLoading:c,children:"Save Changes"})})]})]})})};function A(){const{user:s}=x(),{refreshData:t}=u();return s?e.jsx(y,{user:s,onUpdateProfile:async a=>{await f.updateUserProfile(a),await t()}}):null}export{A as default};
