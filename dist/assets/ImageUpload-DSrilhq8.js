import{r as x,j as e}from"./index-BUL6LB55.js";const p=({label:i,value:o,onChange:a,className:m=""})=>{const r=x.useRef(null),[d,s]=x.useState(null),u=t=>{var c;s(null);const n=(c=t.target.files)==null?void 0:c[0];if(n){if(n.size>5*1024*1024){s("File is too large. Max size is 5MB.");return}const l=new FileReader;l.onloadend=()=>{a(l.result)},l.onerror=()=>{s("Failed to read file.")},l.readAsDataURL(n)}},h=()=>{a(""),s(null),r.current&&(r.current.value="")};return e.jsxs("div",{className:`w-full ${m}`,children:[i&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o?e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"h-24 w-24 rounded-lg border border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center",children:e.jsx("img",{src:o,alt:"Preview",className:"h-full w-full object-cover"})}),e.jsx("button",{type:"button",onClick:h,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600 transition-colors",title:"Remove Image",children:e.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsxs("div",{className:"h-24 w-24 flex-shrink-0 rounded-lg border-2 border-dashed border-gray-300 flex flex-col items-center justify-center text-gray-400 hover:border-indigo-400 hover:bg-indigo-50 transition-colors cursor-pointer bg-white",onClick:()=>{var t;return(t=r.current)==null?void 0:t.click()},children:[e.jsx("svg",{className:"h-8 w-8 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-[10px] font-medium uppercase",children:"Upload"})]}),e.jsx("input",{type:"file",ref:r,accept:"image/*",className:"hidden",onChange:u}),e.jsxs("div",{className:"text-center w-full",children:[o?e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:"text-xs text-green-600 font-medium flex items-center justify-center",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Image Selected"]})}):e.jsx("p",{className:"text-xs text-gray-500",children:"Upload QR code (JPG/PNG). Max 5MB."}),d&&e.jsx("p",{className:"text-xs text-red-600 mt-2 font-medium animate-pulse",children:d})]})]})]})};export{p as I};
