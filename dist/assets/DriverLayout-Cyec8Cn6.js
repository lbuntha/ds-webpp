import{u as p,g as u,r as a,j as e}from"./index-BUL6LB55.js";import{D as j}from"./DriverDashboard-C-dD5YO5.js";import{C as f}from"./CustomerProfile-C5yBrG1Z.js";import{N as v}from"./NotificationBell-MmXT0gZ-.js";import{W as b}from"./WalletDashboard-J_MiwyHy.js";import{P as g}from"./PublicTracker-uW3fB7BF.js";import{L as k}from"./LanguageSwitcher-Bw_PeBba.js";import"./notificationService-W2xlDV8M.js";import"./Button-CqEssTF4.js";import"./ImageUpload-DSrilhq8.js";import"./ChatModal-BSO-ygqo.js";import"./toast-DfW6NkLH.js";import"./SettlementReportModal-EYU7i1B4.js";import"./Card-k44aVk4n.js";import"./DriverPickupProcessor-Cp3MWOGN.js";import"./LocationPicker-BSHbKGYS.js";import"./PlaceAutocomplete-XL2CORH3.js";import"./Input-fEXGFBn-.js";import"./Avatar-Cwp5HxF7.js";import"./Modal-CwdR8lyW.js";import"./Toast-8q3YfUAL.js";import"./TrackingTimeline--cIDV8xm.js";const H=({user:r,onLogout:l})=>{var x;const{t}=p(),{hasPermission:o}=u(),[h,c]=a.useState(!1),d=a.useMemo(()=>[{id:"JOBS",permission:"DRIVER_VIEW_JOBS",label:t("my_jobs"),icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})},{id:"WALLET",permission:"DRIVER_ACCESS_WALLET",label:t("wallet"),icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})},{id:"PROFILE",permission:"DRIVER_MANAGE_PROFILE",label:t("profile"),icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],[t]),n=a.useMemo(()=>d.filter(s=>o(r,s.permission)),[d,r,o]),[i,m]=a.useState(((x=n[0])==null?void 0:x.id)||"PROFILE");return n.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Access"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have access to any driver features. Please contact your administrator."}),e.jsx("button",{onClick:l,className:"w-full py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium",children:t("signOut")})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsxs("div",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center sticky top-0 z-10 border-b border-gray-200",children:[e.jsxs("div",{className:"font-bold text-xl text-red-600 flex items-center gap-2",children:[e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Doorstep Driver"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{}),e.jsx("button",{onClick:()=>c(!0),className:"p-2 bg-gray-100 rounded-full text-gray-600 hover:bg-gray-200 hover:text-gray-900 transition-colors",title:"Track Parcel",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx(v,{user:r}),e.jsx("div",{onClick:()=>m("PROFILE"),className:"h-8 w-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold cursor-pointer shadow-sm",children:r.name.charAt(0)})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto p-4 pt-6",children:[i==="JOBS"&&o(r,"DRIVER_VIEW_JOBS")&&e.jsx(j,{user:r}),i==="WALLET"&&o(r,"DRIVER_ACCESS_WALLET")&&e.jsx(b,{user:r}),i==="PROFILE"&&o(r,"DRIVER_MANAGE_PROFILE")&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{user:r}),e.jsx("button",{onClick:l,className:"w-full py-3 text-red-600 font-bold bg-red-50 rounded-xl hover:bg-red-100 border border-red-200",children:t("signOut")})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-6 py-3 flex justify-around items-center text-xs font-medium text-gray-500 z-30",children:n.map(s=>e.jsxs("button",{onClick:()=>m(s.id),className:`flex flex-col items-center gap-1 ${i===s.id?"text-red-600":""}`,children:[s.icon,s.label]},s.id))}),h&&e.jsx(g,{onClose:()=>c(!1)})]})};export{H as DriverLayout};
